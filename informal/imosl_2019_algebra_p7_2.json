{"problem_name": "imosl_2019_algebra_p7_2", "informal_statement": "Let $\\mathbb{Z}$ be the set of integers. We consider functions $f: \\mathbb{Z} \\rightarrow \\mathbb{Z}$ satisfying\n\n$$\nf(f(x+y)+y)=f(f(x)+y)\n$$\n\nfor all integers $x$ and $y$. For such a function, we say that an integer $v$ is $f$-rare if the set\n\n$$\nX_{v}=\\{x \\in \\mathbb{Z}: f(x)=v\\}\n$$\n\nis finite and nonempty.\n\nProve that no such function $f$ can have more than one $f$-rare integer.", "informal_proof": "An easy inductive argument (substituting $x+k y$ for $x)$ shows that\n\n$$\nf(f(x+k y)+y)=f(f(x)+y)\n$$\n\nfor all integers $x, y$ and $k$. If $v$ is an $f$-rare integer and $a$ is the least element of $X_{v}$, then by substituting $y=a-f(x)$ in the above, we see that\n\n$$\nf(x+k \\cdot(a-f(x)))-f(x)+a \\in X_{v}\n$$\n\nfor all integers $x$ and $k$, so that in particular\n\n$$\nf(x+k \\cdot(a-f(x))) \\geqslant f(x)\n$$\n\nfor all integers $x$ and $k$, by assumption on $a$. This says that on the (possibly degenerate) arithmetic progression through $x$ with common difference $a-f(x)$, the function $f$ attains its minimal value at $x$.\n\nRepeating the same argument with $a$ replaced by the greatest element $b$ of $X_{v}$ shows that\n\n$$\nf(x+k \\cdot(b-f(x)) \\leqslant f(x)\n$$\n\nfor all integers $x$ and $k$. Combined with the above inequality, we therefore have\n\n$$\nf(x+k \\cdot(a-f(x)) \\cdot(b-f(x)))=f(x)\n$$\n\nfor all integers $x$ and $k$.\n\nThus if $f(x) \\neq a, b$, then the set $X_{f(x)}$ contains a nondegenerate arithmetic progression, so is infinite. So the only possible $f$-rare integers are $a$ and $b$.\n\nIn particular, the $f$-rare integer $v$ we started with must be one of $a$ or $b$, so that $f(v)=$ $f(a)=f(b)=v$. This means that there cannot be any other $f$-rare integers $v^{\\prime}$, as they would on the one hand have to be either $a$ or $b$, and on the other would have to satisfy $f\\left(v^{\\prime}\\right)=v^{\\prime}$. Thus $v$ is the unique $f$-rare integer."}