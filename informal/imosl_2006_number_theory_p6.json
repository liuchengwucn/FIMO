{"problem_name": "imosl_2006_number_theory_p6", "informal_statement": "Let $a>b>1$ be relatively prime positive integers. Define the weight of an integer $c$, denoted by $w(c)$, to be the minimal possible value of $|x|+|y|$ taken over all pairs of integers $x$ and $y$ such that\n\n$$\na x+b y=c .\n$$\n\nAn integer $c$ is called a local champion if $w(c) \\geq w(c \\pm a)$ and $w(c) \\geq w(c \\pm b)$.\n\nFind all local champions and determine their number.\n\nThe final answer is $b-1$ if both $a$ and $b$ are odd and $2(b-1)$ otherwise.", "informal_proof": "Call the pair of integers $(x, y)$ a representation of $c$ if $a x+b y=c$ and $|x|+|y|$ has the smallest possible value, i.e. $|x|+|y|=w(c)$.\n\nWe characterise the local champions by the following three observations.\n\nLemma 1. If $(x, y)$ a representation of a local champion $c$ then $x y<0$.\n\nProof. Suppose indirectly that $x \\geq 0$ and $y \\geq 0$ and consider the values $w(c)$ and $w(c+a)$. All representations of the numbers $c$ and $c+a$ in the form $a u+b v$ can be written as\n\n$$\nc=a(x-k b)+b(y+k a), \\quad c+a=a(x+1-k b)+b(y+k a)\n$$\n\nwhere $k$ is an arbitrary integer.\n\nSince $|x|+|y|$ is minimal, we have\n\n$$\nx+y=|x|+|y| \\leq|x-k b|+|y+k a|\n$$\n\nfor all $k$. On the other hand, $w(c+a) \\leq w(c)$, so there exists a $k$ for which\n\n$$\n|x+1-k b|+|y+k a| \\leq|x|+|y|=x+y .\n$$\n\nThen\n\n$$\n(x+1-k b)+(y+k a) \\leq|x+1-k b|+|y+k a| \\leq x+y \\leq|x-k b|+|y+k a| .\n$$\n\nComparing the first and the third expressions, we find $k(a-b)+1 \\leq 0$ implying $k<0$. Comparing the second and fourth expressions, we get $|x+1-k b| \\leq|x-k b|$, therefore $k b>x$; this is a contradiction.\n\nIf $x, y \\leq 0$ then we can switch to $-c,-x$ and $-y$.\n\nFrom this point, write $c=a x-b y$ instead of $c=a x+b y$ and consider only those cases where $x$ and $y$ are nonzero and have the same sign. By Lemma 1, there is no loss of generality in doing so.\n\nLemma 2. Let $c=a x-b y$ where $|x|+|y|$ is minimal and $x, y$ have the same sign. The number $c$ is a local champion if and only if $|x|<b$ and $|x|+|y|=\\left\\lfloor\\frac{a+b}{2}\\right\\rfloor$.\n\nProof. Without loss of generality we may assume $x, y>0$.\n\nThe numbers $c-a$ and $c+b$ can be written as\n\n$$\nc-a=a(x-1)-b y \\quad \\text { and } \\quad c+b=a x-b(y-1)\n$$\n\nand trivially $w(c-a) \\leq(x-1)+y<w(c)$ and $w(c+b) \\leq x+(y-1)<w(c)$ in all cases.\n\nNow assume that $c$ is a local champion and consider $w(c+a)$. Since $w(c+a) \\leq w(c)$, there exists an integer $k$ such that\n\n$$\nc+a=a(x+1-k b)-b(y-k a) \\text { and }|x+1-k b|+|y-k a| \\leq x+y .\n$$\n\nThis inequality cannot hold if $k \\leq 0$, therefore $k>0$. We prove that we can choose $k=1$.\n\nConsider the function $f(t)=|x+1-b t|+|y-a t|-(x+y)$. This is a convex function and we have $f(0)=1$ and $f(k) \\leq 0$. By Jensen's inequality, $f(1) \\leq\\left(1-\\frac{1}{k}\\right) f(0)+\\frac{1}{k} f(k)<1$. But $f(1)$ is an integer. Therefore $f(1) \\leq 0$ and\n\n$$\n|x+1-b|+|y-a| \\leq x+y .\n$$\n\nKnowing $c=a(x-b)-b(y-a)$, we also have\n\n$$\nx+y \\leq|x-b|+|y-a| .\n$$\n\nCombining the two inequalities yields $|x+1-b| \\leq|x-b|$ which is equivalent to $x<b$.\n\nConsidering $w(c-b)$, we obtain similarly that $y<a$.\n\nNow $|x-b|=b-x,|x+1-b|=b-x-1$ and $|y-a|=a-y$, therefore we have\n\n$$\n\\begin{aligned}\n(b-x-1)+(a-y) \\leq x+y & \\leq(b-x)+(a-y), \\\\\n\\frac{a+b-1}{2} & \\leq x+y \\leq \\frac{a+b}{2} .\n\\end{aligned}\n$$\n\nHence $x+y=\\left\\lfloor\\frac{a+b}{2}\\right\\rfloor$.\n\nTo prove the opposite direction, assume $0<x<b$ and $x+y=\\left\\lfloor\\frac{a+b}{2}\\right\\rfloor$. Since $a>b$, we also have $0<y<a$. Then\n\n$$\nw(c+a) \\leq|x+1-b|+|y-a|=a+b-1-(x+y) \\leq x+y=w(c)\n$$\n\nand\n\n$$\nw(c-b) \\leq|x-b|+|y+1-a|=a+b-1-(x+y) \\leq x+y=w(c)\n$$\n\ntherefore $c$ is a local champion indeed.\n\nLemma 3. Let $c=a x-b y$ and assume that $x$ and $y$ have the same sign, $|x|<b,|y|<a$ and $|x|+|y|=\\left\\lfloor\\frac{a+b}{2}\\right\\rfloor$. Then $w(c)=x+y$.\n\nProof. By definition $w(c)=\\min \\{|x-k b|+|y-k a|: \\quad k \\in \\mathbb{Z}\\}$. If $k \\leq 0$ then obviously $|x-k b|+|y-k a| \\geq x+y$. If $k \\geq 1$ then\n\n$$\n|x-k b|+|y-k a|=(k b-x)+(k a-y)=k(a+b)-(x+y) \\geq(2 k-1)(x+y) \\geq x+y .\n$$\n\nTherefore $w(c)=x+y$ indeed.\n\nLemmas 1, 2 and 3 together yield that the set of local champions is\n\n$$\nC=\\left\\{\\pm(a x-b y): 0<x<b, x+y=\\left\\lfloor\\frac{a+b}{2}\\right\\rfloor\\right\\} .\n$$\n\nDenote by $C^{+}$and $C^{-}$the two sets generated by the expressions $+(a x-b y)$ and $-(a x-b y)$, respectively. It is easy to see that both sets are arithmetic progressions of length $b-1$, with difference $a+b$.\n\nIf $a$ and $b$ are odd, then $C^{+}=C^{-}$, because $a(-x)-b(-y)=a(b-x)-b(a-y)$ and $x+y=\\frac{a+b}{2}$ is equivalent to $(b-x)+(a-y)=\\frac{a+b}{2}$. In this case there exist $b-1$ local champions.\n\nIf $a$ and $b$ have opposite parities then the answer is different. For any $c_{1} \\in C^{+}$and $c_{2} \\in C^{-}$,\n\n$$\n2 c_{1} \\equiv-2 c_{2} \\equiv 2\\left(a \\frac{a+b-1}{2}-b \\cdot 0\\right) \\equiv-a \\quad(\\bmod a+b)\n$$\n\nand\n\n$$\n2 c_{1}-2 c_{2} \\equiv-2 a \\quad(\\bmod a+b) .\n$$\n\nThe number $a+b$ is odd and relatively prime to $a$, therefore the elements of $C^{+}$and $C^{-}$belong to two different residue classes modulo $a+b$. Hence, the set $C$ is the union of two disjoint arithmetic progressions and the number of all local champions is $2(b-1)$.\n\nSo the number of local champions is $b-1$ if both $a$ and $b$ are odd and $2(b-1)$ otherwise."}